// Code generated by goctl. DO NOT EDIT.
// goctl 1.9.2

package handler

import (
	"net/http"
	"time"

	menu "happyeat/app/internal/handler/menu"
	menutype "happyeat/app/internal/handler/menutype"
	"happyeat/app/internal/svc"

	"github.com/zeromicro/go-zero/rest"
)

func RegisterHandlers(server *rest.Server, serverCtx *svc.ServiceContext) {
	server.AddRoutes(
		[]rest.Route{
			{
				// 列出菜单
				Method:  http.MethodGet,
				Path:    "/menus",
				Handler: menu.ListMenusHandler(serverCtx),
			},
			{
				// 创建菜单
				Method:  http.MethodPost,
				Path:    "/menus",
				Handler: menu.CreateMenuHandler(serverCtx),
			},
			{
				// 获取菜单
				Method:  http.MethodGet,
				Path:    "/menus/:id",
				Handler: menu.GetMenuHandler(serverCtx),
			},
			{
				// 更新菜单
				Method:  http.MethodPut,
				Path:    "/menus/:id",
				Handler: menu.UpdateMenuHandler(serverCtx),
			},
			{
				// 删除菜单
				Method:  http.MethodDelete,
				Path:    "/menus/:id",
				Handler: menu.DeleteMenuHandler(serverCtx),
			},
		},
		rest.WithJwt(serverCtx.Config.Auth.AccessSecret),
		rest.WithPrefix("/central/v1"),
		rest.WithTimeout(5000*time.Millisecond),
	)

	server.AddRoutes(
		[]rest.Route{
			{
				// 列出菜单种类
				Method:  http.MethodGet,
				Path:    "/menu/categories",
				Handler: menutype.ListMenusCategoriesHandler(serverCtx),
			},
			{
				// 创建菜单种类
				Method:  http.MethodPost,
				Path:    "/menu/categories",
				Handler: menutype.CreateMenuCategoryHandler(serverCtx),
			},
			{
				// 获取菜单种类
				Method:  http.MethodGet,
				Path:    "/menu/categories/:id",
				Handler: menutype.GetMenuCategoryHandler(serverCtx),
			},
			{
				// 更新菜单种类
				Method:  http.MethodPut,
				Path:    "/menu/categories/:id",
				Handler: menutype.UpdateMenuCategoryHandler(serverCtx),
			},
			{
				// 删除菜单种类
				Method:  http.MethodDelete,
				Path:    "/menu/categories/:id",
				Handler: menutype.DeleteMenuCategoryHandler(serverCtx),
			},
		},
		rest.WithJwt(serverCtx.Config.Auth.AccessSecret),
		rest.WithPrefix("/central/v1"),
		rest.WithTimeout(5000*time.Millisecond),
	)
}
